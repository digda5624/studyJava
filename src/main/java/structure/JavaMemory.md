# java 의 메모리 사용 영역

* 메소드 영역
* 힙 영역
* 스택 영역

![image](https://user-images.githubusercontent.com/69373314/191647640-28042318-bdec-4c85-8af7-9a14c0813e36.png)

## 메소드 영역
메소드 영역은 코드에서 사용되는 클래스(~.class)들을 클래스 로더로 읽어 클래스 
별로 런타임 상수풀, 필드 데이터, 메소드 코드, 생성자 코드 등을 분류해서 저장한다.
메소드 영역은 JVM이 시작할 때 생성되고

모든 스레드가 공유하는 영역이다.

## 힙(Heap 영역)
객체와 배열이 생성되는 영역. 힙 영역에 생성된 객체와 배열은 JVM 스택 영역의 변수나 다른 객체의 필드에서 참조한다.
참조하는 변수나 필드가 없다면 의미 없는 객체가 되기 때문에 이것을 쓰레기로 취급하고 JVM은 쓰레기 수집기(Garbage Collector)
를 실행 시켜 쓰레기 객체를 힙 영역에서 자동으로 제거한다.

## JVM 스택(stack) 영역
JVM 스택 영역은 각 스레드마다 하나씩 존재하며 스레드가 시작될 때 할당된다.
JVM 스택은 메서드를 호출할 때마다 프레임(Frame)을 추가하고 메서드가 종료되면 해당 프레임을 제거(pop)하는 
동작을 수행한다. 예외 발생 시 printStackTrace() 메서드로 보여주는 Stack Trace의 각 라인은 하나의 프레임을 표현

프레임 내부에는 로컬 변수 스택이 있는데, 기본 타입 변수와 참조 타입 변수가 추가(push)되거나 제거(pop)된다.
변수는 선언된 블록 안에서만 스택에 존재하고 블록을 벗어나면 스택에서 제거 된다.

결국 JVM 스택에는 크게 하나의 스택을 가지고 여러개의 프레임(메서드)를 push pop 하고
각 프레임은 로컬 변수 할당을 위해서 스택을 다시 가진다. 그곳에서 블록 단위로 pop을 하고 변수 할당, 초기화시에 push 를 한다.

## 따라서 ==과 != 비교
기본 타입 변수의 ==, != 연산은 변수의 값이 같은지, 아닌지를 조사하지만 참조 타입 변수들 간의 ==, != 연산은
동일한 객체를 참조하는지, 다른 객체를 참조하는지 알아볼 때 사용된다. 참조 타입 변수의 값은 힙 영역의 객체 주소이므로 결국 주소 값을
비교하는 것이 된다.